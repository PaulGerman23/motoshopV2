{% extends 'base.html' %}

{% block title %}Abrir Caja - MotoShop{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card shadow-lg">
            <div class="card-header text-center" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                <h4 class="mb-0"><i class="bi bi-cash-stack"></i> Apertura de Caja</h4>
            </div>
            <div class="card-body p-4">
                <div class="alert alert-info d-flex align-items-start mb-4">
                    <i class="bi bi-info-circle me-2 mt-1"></i>
                    <div>
                        <strong>Debes abrir una caja para registrar ventas.</strong><br>
                        <small>Ingresa el monto inicial con el que cuentas en efectivo.</small>
                    </div>
                </div>

                <form method="post">
                    {% csrf_token %}
                    <input type="hidden" name="next" value="{{ next_url }}">
                    
                    <div class="text-center mb-4">
                        <div style="width: 100px; height: 100px; margin: 0 auto; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">
                            <i class="bi bi-wallet2"></i>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label class="form-label">Monto Inicial en Caja *</label>
                        <div class="input-group input-group-lg">
                            <span class="input-group-text">$</span>
                            <input type="number" 
                                   class="form-control" 
                                   name="monto_inicial" 
                                   step="0.01" 
                                   min="0" 
                                   value="0"
                                   placeholder="0.00" 
                                   required 
                                   autofocus>
                        </div>
                        <small class="text-muted">Monto en efectivo con el que inicias tu jornada</small>
                    </div>

                    <div class="mb-4">
                        <label class="form-label">Observaciones</label>
                        <textarea class="form-control" 
                                  name="observaciones_apertura" 
                                  rows="3" 
                                  placeholder="Notas sobre la apertura de caja..."></textarea>
                    </div>

                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary-modern btn-modern btn-lg">
                            <i class="bi bi-unlock"></i> Abrir Caja
                        </button>
                    </div>

                    <div class="text-center mt-3">
                        <small class="text-muted">Una vez abierta, podrás registrar ventas normalmente.</small>
                    </div>
                </form>
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-body">
                <h6 class="mb-3"><i class="bi bi-lightbulb text-warning"></i> Consejos</h6>
                <ul class="mb-0" style="font-size: 13px;">
                    <li>Verifica que el monto inicial coincida con el dinero físico en caja</li>
                    <li>Puedes abrir y cerrar múltiples cajas en un mismo día</li>
                    <li>Cada venta se asociará automáticamente a tu caja abierta</li>
                    <li>Al cerrar, deberás contar el dinero real para verificar diferencias</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
.card {
    border: none;
    border-radius: 16px;
}

.input-group-lg .form-control {
    font-size: 24px;
    text-align: center;
    font-weight: 600;
}

.input-group-text {
    background: #f9fafb;
    border: 1px solid #e5e7eb;
}
</style>
{% endblock %}